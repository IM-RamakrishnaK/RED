<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            id="org.robotframework.ide.eclipse.wizards.category"
            name="Robot Framework">
      </category>
      <wizard
            category="org.robotframework.ide.eclipse.wizards.category"
            class="org.robotframework.ide.eclipse.main.plugin.wizards.NewRobotProjectWizard"
            finalPerspective="org.eclipse.ui.perspectives.RobotPerspective"
            hasPages="true"
            icon="resources/new_robot_project.png"
            id="org.robotframework.ide.eclipse.wizards.newRobotProject"
            name="Robot Project"
            project="true">
      </wizard>
      <wizard
            category="org.robotframework.ide.eclipse.wizards.category"
            class="org.robotframework.ide.eclipse.main.plugin.wizards.NewRobotTestSuitesFolderWizard"
            finalPerspective="org.eclipse.ui.perspectives.RobotPerspective"
            icon="resources/new_robot_suite.png"
            id="org.robotframework.ide.eclipse.wizards.newRobotSuite"
            name="Robot Test Suites folder">
      </wizard>
      <wizard
            category="org.robotframework.ide.eclipse.wizards.category"
            class="org.robotframework.ide.eclipse.main.plugin.wizards.NewRobotTestSuiteWizard"
            finalPerspective="org.eclipse.ui.perspectives.RobotPerspective"
            hasPages="true"
            icon="resources/new_robot_file.png"
            id="org.robotframework.ide.eclipse.wizards.newRobotCase"
            name="Robot Test Suite">
      </wizard>
   </extension>
   <extension
         id="robotNature"
         name="Robot project nature"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run
               class="org.robotframework.ide.eclipse.main.plugin.nature.RobotProjectNature">
         </run>
      </runtime>
      <options
            allowLinking="false">
      </options>
   </extension>
   <extension
         point="org.eclipse.ui.ide.projectNatureImages">
      <image
            icon="resources/robot_dec.png"
            id="org.robotframework.ide.eclipse.main.plugin.robotNature.img"
            natureId="org.robotframework.ide.eclipse.main.plugin.robotNature">
      </image>
   </extension>
 <extension
       point="org.eclipse.ui.decorators">
    <decorator
          class="org.robotframework.ide.eclipse.main.plugin.navigator.RobotSuitesDecorator"
          icon="resources/robot_dec.png"
          id="org.robotframework.ide.eclipse.main.plugin.robotSuiteDecorator"
          label="Robot Test Suites"
          lightweight="true"
          location="TOP_RIGHT"
          state="true">
       <description>
          This decorator adds icon to Robot test suites
       </description>
       <enablement>
          <objectClass
                name="org.eclipse.core.resources.IFolder">
          </objectClass>
       </enablement>
    </decorator>
 </extension>

	<extension
            point="org.eclipse.ui.perspectives">
        <perspective
                class="org.robotframework.ide.eclipse.main.plugin.perspectives.RobotPerspective"
                icon="resources/robot.png"
                id="org.eclipse.ui.perspectives.RobotPerspective"
                name="Robot">
        </perspective>
    </extension>
 <extension
       point="org.eclipse.ui.perspectiveExtensions">
    <perspectiveExtension
          targetID="org.eclipse.ui.perspectives.RobotPerspective">
       <newWizardShortcut
             id="org.robotframework.ide.eclipse.wizards.newRobotProject">
       </newWizardShortcut>
       <newWizardShortcut
             id="org.robotframework.ide.eclipse.wizards.newRobotSuite">
       </newWizardShortcut>
       <newWizardShortcut
             id="org.robotframework.ide.eclipse.wizards.newRobotCase">
       </newWizardShortcut>
       <actionSet
             id="org.eclipse.debug.ui.launchActionSet">
       </actionSet>
    </perspectiveExtension>
 </extension>

	<extension
            point="org.eclipse.ui.editors">
        <editor
                name="Robot Text Editor"
                extensions="txt,robot"
                default="false"
                icon="resources/robot_file.png"
                class="org.robotframework.ide.eclipse.main.plugin.texteditor.TextEditorWrapper"
                id="org.robotframework.ide.eclipse.main.plugin.texteditor.TextEditorWrapper">
        </editor>
        <editor
              class="org.robotframework.ide.eclipse.main.plugin.tableeditor.RobotFormEditor"
              default="true"
              extensions="txt,robot"
              icon="resources/robot_file.png"
              id="org.robotframework.ide.tableditor"
              name="Robot Table Editor">
        </editor>
    </extension>
 <extension
         point="org.eclipse.ui.views">
      <view
            class="org.robotframework.ide.eclipse.main.plugin.views.MessageLogViewWrapper"
            icon="resources/robot.png"
            id="org.robotframework.ide.MessageLogView"
            name="Message Log"
            restorable="true">
      </view>
 </extension>
 <extension
       point="org.eclipse.debug.core.launchConfigurationTypes">
    <launchConfigurationType
          delegate="org.robotframework.ide.eclipse.main.plugin.launch.RobotLaunchConfigurationDelegate"
          id="org.robotframework.ide.robotLaunchConfiguration"
          modes="run"
          name="Robot">
    </launchConfigurationType>
 </extension>
 <extension
       point="org.eclipse.debug.core.launchModes">
    <launchMode
          label="Run"
          mode="org.robotframework.ide.robotRunLaunch">
    </launchMode>
 </extension>
 <extension
       point="org.eclipse.debug.ui.launchGroups">
    <launchGroup
          bannerImage="resources/robot.png"
          id="org.robotframework.ide.robotLaunchConfigurationGroup"
          image="resources/robot.png"
          label="Robot Framework"
          mode="org.robotframework.ide.robotRunLaunch">
    </launchGroup>
 </extension>
 <extension
       point="org.eclipse.debug.ui.launchConfigurationTabGroups">
    <launchConfigurationTabGroup
          class="org.robotframework.ide.eclipse.main.plugin.launch.tabs.RobotLaunchConfigurationTabGroup"
          id="org.robotframework.ide.robotLaunchConfigurationTabGroup"
          type="org.robotframework.ide.robotLaunchConfiguration">
    </launchConfigurationTabGroup>
 </extension>
 <extension
       point="org.eclipse.debug.ui.launchConfigurationTypeImages">
    <launchConfigurationTypeImage
          configTypeID="org.robotframework.ide.robotLaunchConfiguration"
          icon="resources/robot.png"
          id="org.robotframework.ide.robotLaunchConfigurationImage">
    </launchConfigurationTypeImage>
 </extension>
 <extension point="org.eclipse.debug.ui.launchShortcuts">
    <shortcut
            class="org.robotframework.ide.eclipse.main.plugin.launch.RobotLaunchConfigurationDelegate"
            id="org.robotframework.ide.robotLaunchShortcutConfiguration"
            label="Robot Test"
            icon="resources/robot.png"
            modes="run,debug">
        <contextualLaunch>
            <enablement>
                <with variable="selection">
                </with>
            </enablement>
        </contextualLaunch>
    </shortcut>
 </extension>
 <extension
       point="org.eclipse.ui.navigator.viewer">
    <viewerContentBinding
          viewerId="org.eclipse.ui.navigator.ProjectExplorer">
       <includes>
          <contentExtension
                pattern="org\.robotframework\.content.*.">
          </contentExtension>
          <contentExtension
                pattern="org\.robotframework\.filters.*.">
          </contentExtension>
       </includes>
    </viewerContentBinding>
 </extension>
 <extension
       point="org.eclipse.ui.navigator.navigatorContent">
    <navigatorContent
          contentProvider="org.robotframework.ide.eclipse.main.plugin.navigator.NavigatorContentProvider"
          icon="resources/_file"
          id="org.robotframework.content.testFileContent"
          labelProvider="org.robotframework.ide.eclipse.main.plugin.navigator.NavigatorLabelProvider"
          name="Robot Elements">
       <triggerPoints>
          <and>
             <instanceof
                   value="org.eclipse.core.resources.IFile">
             </instanceof>
             <or>
                <test
                      property="org.eclipse.core.resources.extension"
                      value="txt">
                </test>
                <test
                      property="org.eclipse.core.resources.extension"
                      value="robot">
                </test></or>
          </and>
       </triggerPoints>
       <possibleChildren>
          <instanceof
                value="org.robotframework.ide.eclipse.main.plugin.RobotElement">
          </instanceof>
       </possibleChildren>
       <actionProvider
             class="org.robotframework.ide.eclipse.main.plugin.navigator.NavigatorActionsProvider"
             id="org.robotframework.actions.provider">
       </actionProvider>
       <commonSorter
             class="org.robotframework.ide.eclipse.main.plugin.navigator.VariablesSorter">
          <parentExpression>
             <instanceof
                   value="org.robotframework.ide.eclipse.main.plugin.RobotSuiteFileSection">
             </instanceof>
          </parentExpression>
       </commonSorter>
    </navigatorContent>
    <commonFilter
          activeByDefault="false"
          class="org.robotframework.ide.eclipse.main.plugin.navigator.SuiteInitFilesFilter"
          description="Hides all Robot Suite initialization files (__init__.robot)"
          id="org.robotframework.filters.initFilesFilter"
          name="Robot Suite initialization files"
          visibleInUI="true">
    </commonFilter>
    <commonFilter
          activeByDefault="true"
          class="org.robotframework.ide.eclipse.main.plugin.navigator.NonRobotProjectsFilter"
          description="Hide all non-Robot projects"
          id="org.robotframework.filters.nonRobotProjectsFilter"
          name="Non-Robot projects"
          visibleInUI="true">
    </commonFilter>
    <commonWizard
          type="new"
          wizardId="org.robotframework.ide.eclipse.wizards.newRobotProject">
       <enablement>
          <with
                variable="activeWorkbenchWindow.activePerspective">
             <equals
                   value="org.eclipse.ui.perspectives.RobotPerspective">
             </equals>
          </with></enablement>
    </commonWizard>
    <commonWizard
          type="new"
          wizardId="org.robotframework.ide.eclipse.wizards.newRobotCase">
       <enablement>
          <with
                variable="activeWorkbenchWindow.activePerspective">
             <equals
                   value="org.eclipse.ui.perspectives.RobotPerspective">
             </equals>
          </with>
       </enablement>
    </commonWizard>
    <commonWizard
          type="new"
          wizardId="org.robotframework.ide.eclipse.wizards.newRobotSuite">
       <enablement>
          <with
                variable="activeWorkbenchWindow.activePerspective">
             <equals
                   value="org.eclipse.ui.perspectives.RobotPerspective">
             </equals>
          </with>
       </enablement>
    </commonWizard>
 </extension>
 <extension
       point="org.eclipse.ui.themes">
    <themeElementCategory
          id="org.robotframework.ide.eclipse.theme"
          label="Robot">
    </themeElementCategory>
    <colorDefinition
          categoryId="org.robotframework.ide.eclipse.theme"
          id="org.robotframework.ide.eclipse.cell.highlight"
          isEditable="true"
          label="Highlighted cell color"
          value="255, 245, 225">
       <description>
          This color is used in Robot tables in order to highlight currently selected cell
       </description>
    </colorDefinition>
 </extension>
 <extension
       point="org.eclipse.ui.contexts">
    <context
          description="Context for Robot suite files editor"
          id="org.robotframework.ide.eclipse.tableeditor.context"
          name="Table Editor Context"
          parentId="org.eclipse.ui.contexts.window">
    </context>
    <context
          description="Context for Variables section editor page"
          id="org.robotframework.ide.eclipse.tableeditor.variables.context"
          name="Variables Editor Context"
          parentId="org.robotframework.ide.eclipse.tableeditor.context">
    </context>
    <context
          description="Context for Test Cases section editor page"
          id="org.robotframework.ide.eclipse.tableeditor.cases.context"
          name="Test Cases Editor Context"
          parentId="org.robotframework.ide.eclipse.tableeditor.context">
    </context>
 </extension>
 <extension
       point="org.eclipse.ui.commands">
    <category
          id="org.robotframework.ide.eclipse.robotCommands"
          name="Robot Commands">
    </category>
    <command
          categoryId="org.robotframework.ide.eclipse.robotCommands"
          id="org.robotframework.ide.eclipse.insertNew"
          name="Add new element">
    </command>
    <command
          categoryId="org.robotframework.ide.eclipse.robotCommands"
          id="org.robotframework.ide.eclipse.moveElementUp"
          name="Move up">
    </command>
    <command
          categoryId="org.robotframework.ide.eclipse.robotCommands"
          id="org.robotframework.ide.eclipse.moveElementDown"
          name="Move down">
    </command>
    <command
          categoryId="org.robotframework.ide.eclipse.robotCommands"
          id="org.robotframework.ide.eclipse.sortElements"
          name="Sort elements">
    </command>
 </extension>
 <extension
       point="org.eclipse.ui.handlers">
    <handler
          class="org.robotframework.ide.eclipse.main.plugin.tableeditor.handler.DeleteHandler"
          commandId="org.eclipse.ui.edit.delete">
       <activeWhen>
          <reference
                definitionId="org.robotframework.activeVariablesPartIsEditable">
          </reference>
       </activeWhen>
       <enabledWhen>
          <reference
                definitionId="org.robotframework.atLeastOneVariableIsSelected">
          </reference></enabledWhen>
    </handler>
    <handler
          class="org.robotframework.ide.eclipse.main.plugin.tableeditor.handler.InsertNewVariableHandler"
          commandId="org.robotframework.ide.eclipse.insertNew">
       <activeWhen>
          <reference
                definitionId="org.robotframework.activeVariablesPartIsEditable">
          </reference>
       </activeWhen>
       <enabledWhen>
          <reference
                definitionId="org.robotframework.exactlyOneVariableIsSelected">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.robotframework.ide.eclipse.main.plugin.tableeditor.handler.MoveVariableUpHandler"
          commandId="org.robotframework.ide.eclipse.moveElementUp">
       <activeWhen>
          <reference
                definitionId="org.robotframework.activeVariablesPartIsEditable">
          </reference>
       </activeWhen>
       <enabledWhen>
          <reference
                definitionId="org.robotframework.exactlyOneVariableIsSelected">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.robotframework.ide.eclipse.main.plugin.tableeditor.handler.MoveVariableDownHandler"
          commandId="org.robotframework.ide.eclipse.moveElementDown">
       <activeWhen>
          <reference
                definitionId="org.robotframework.activeVariablesPartIsEditable">
          </reference>
       </activeWhen>
       <enabledWhen>
          <reference
                definitionId="org.robotframework.exactlyOneVariableIsSelected">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.robotframework.ide.eclipse.main.plugin.tableeditor.handler.SortVariablesHandler"
          commandId="org.robotframework.ide.eclipse.sortElements">
       <activeWhen>
          <reference
                definitionId="org.robotframework.activeVariablesPartIsEditable">
          </reference>
       </activeWhen>
    </handler>
 </extension>
 <extension
       point="org.eclipse.ui.bindings">
    <key
          commandId="org.robotframework.ide.eclipse.insertNew"
          contextId="org.robotframework.ide.eclipse.tableeditor.variables.context"
          schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
          sequence="M1+N">
    </key>
    <key
          commandId="org.robotframework.ide.eclipse.moveElementUp"
          contextId="org.eclipse.ui.contexts.window"
          schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
          sequence="M1+ARROW_UP">
    </key>
    <key
          commandId="org.robotframework.ide.eclipse.moveElementDown"
          contextId="org.robotframework.ide.eclipse.tableeditor.variables.context"
          schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
          sequence="M1+ARROW_DOWN">
    </key>
 </extension>
 <extension
       point="org.eclipse.ui.menus">
    <menuContribution
          allPopups="false"
          locationURI="popup:org.robotframework.ide.eclipse.editor.page.variables.contextMenu?before=additions">
       <command
             commandId="org.robotframework.ide.eclipse.insertNew"
             icon="resources/add.png"
             label="Add new variable"
             style="push">
       </command>
       <separator
             name="navigation"
             visible="true">
       </separator>
       <command
             commandId="org.robotframework.ide.eclipse.moveElementUp"
             label="Move variable up"
             style="push">
       </command>
       <command
             commandId="org.robotframework.ide.eclipse.moveElementDown"
             label="Move variable down"
             style="push">
       </command>
       <command
             commandId="org.robotframework.ide.eclipse.sortElements"
             label="Sort variables"
             style="push">
       </command>
       <separator
             name="globals"
             visible="true">
       </separator>
       <command
             commandId="org.eclipse.ui.edit.delete"
             label="Delete"
             style="push">
       </command>
    </menuContribution>
 </extension>
 <extension
       point="org.eclipse.core.expressions.propertyTesters">
    <propertyTester
          class="org.robotframework.ide.eclipse.main.plugin.propertyTester.RobotEditorPropertTester"
          id="org.robotframework.robotEditorPropertyTester"
          namespace="org.robotframework"
          properties="editorModelIsEditable"
          type="org.robotframework.ide.eclipse.main.plugin.tableeditor.RobotFormEditor">
    </propertyTester>
 </extension>
 <extension
       point="org.eclipse.core.expressions.definitions">
    <definition
          id="org.robotframework.activeVariablesPartIsEditable">
       <and>
          <with
                variable="activeContexts">
             <iterate
                   ifEmpty="false"
                   operator="or">
                <equals
                      value="org.robotframework.ide.eclipse.tableeditor.variables.context">
                </equals>
             </iterate>
          </with>
          <with
                variable="activeEditor">
             <test
                   property="org.robotframework.editorModelIsEditable"
                   value="true">
             </test>
          </with>
       </and>
    </definition>
    <definition
          id="org.robotframework.atLeastOneVariableIsSelected">
       <with
             variable="selection">
          <iterate
                ifEmpty="false"
                operator="and">
             <instanceof
                   value="org.robotframework.ide.eclipse.main.plugin.RobotVariable">
             </instanceof>
          </iterate>
       </with>
    </definition>
    <definition
          id="org.robotframework.exactlyOneVariableIsSelected">
       <with
             variable="selection">
          <and>
             <iterate
                   ifEmpty="false"
                   operator="and">
                <instanceof
                      value="org.robotframework.ide.eclipse.main.plugin.RobotVariable">
                </instanceof>
             </iterate>
             <count
                   value="1">
             </count>
          </and>
       </with>
    </definition>
 </extension>

</plugin>
