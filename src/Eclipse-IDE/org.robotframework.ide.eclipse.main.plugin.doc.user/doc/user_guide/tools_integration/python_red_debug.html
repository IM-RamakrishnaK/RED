<html>
<head>
<link
	href="PLUGINS_ROOT/org.robotframework.ide.eclipse.main.plugin.doc.user/style.css"
	rel="stylesheet" type="text/css" />
</head>
<body>
	<h2>Debug Robot &amp; Python scripts</h2>
	
	<p>This article provides tutorial how to setup debugging of Python scripts
	while running Robot test cases.</p>
	
	<p> For basic Robot test case/keyword debugging, please refer to
	<a href="../debug.html">Debug</a> topic.</p>
	
	<h3>Requirements</h3>
	<p>Installed PyDev with RED - Robot Editor. This is necessary to be able to run and debug Python scripts
	within Eclipse. See <a href="red_pylint.html">PyDev installation instruction</a>.</p>
	
	<h3>Debug Python scripts while running Robot test case</h3>
	<p>In general, to allow debugging Python scripts while running Robot
	test cases, you need to setup Python debug execution in such way that
	Python interpreter will execute Robot runner with suite with enabled
	Python debugger.
	</p>
	
	<p> This will trigger any Python script's break point during
	Robot runtime.
	</p>
	
	<h4>Instructions:</h4>
	<ul>
		<li>Include project path in <span class="code">PYTHONPATH</span> environment variable.
			<p>This can be done by editing variable on OS level or using PyDev Preferences:
			<b>Windows -&gt; Preferences -&gt; PyDev -&gt; Interpreters -&gt;
			Python</b> under <b>Libraries</b>
			</p>
		</li>
		<li>Open Debug Configurations:
			<p>
				<img src="images/go_to_debug_conf.png">
			</p>
		</li>
		<li>Edit or create new Python Run configuration:
			<p>
				<img src="images/edit_pyt_deb_conf.png">
			</p>
		</li>
		<li>Provide Project to be debugged, together with path to Robot
			runner run.py:
			<p>
				<img src="images/pyt_deb_main.png">
			</p>
		</li>
		<li>In Arguments tab, provide arguments passed to run.py for
			Robot execution.
			<p>This is the list of test cases/whole project to be included
				during Debug.</p>
			<p>
				<img src="images/pyt_deb_arg.png">
			</p>
			<p>If you are uncertain what should be included, try to run Robot
				test case and check console:</p>
			<p>
				<img src="images/sample_suite_arg.png">
			</p>
		</li>
		<li>Apply and Close/Debug.
			<p>Running such Debug configuration will start Python debugger.
				Remember to place at least one breakpoint inside Python script.</p>
		</li>
	</ul>
	
	<h3>Simultaneously debug Python scripts and Robot test cases</h3>
	
	<p>This is combination of running Python Debug with Remote Debug of Robot
	test cases.
	</p>
	
	<p>In essence, there needs to be two RED/Eclipse instances - one
	instance is running Python Debug with modification which allows to
	connect RED as Remote Debug.
	</p>
	
	<p>This way in one instance (in this case it does not need to be
	Eclipse, any Python env with proper debug&amp;Robot remote arguments)
	Python debug can be provided, remote RED instance is providing Robot
	debug functionalities.
	</p>
	
	<p>Using 2 Eclipse instances:</p>

	<h4>Eclipse with Python Debug</h4>
	<ul>
		<li>Open Debug Configuration</li>
		<li>Create or edit any of Robot Debug Configuration to export <b>TestRunnerAgent.py</b>
			script
			<p>TestRunnerAgent.py is a script to allow remote RED instance to
				connect to running Robot.</p>
			<p>
				<img src="images/robot_python_export_deb_scrt.png">
			</p>
		</li>
		<li>Edit Python Debug Configuration: in Arguments include remote
			listener
			<p>Remote listener allows to connect RED instance to running
				Robot execution which will be provided on this Eclipse instance:</p>
			<div class="code">--listener
				&lt;PATH_TO_TESTRUNNERAGENT.PY&gt;:&lt;LOCAL_PORT&gt;:TRUE:&lt;LOCAL_IP&gt;
			</div>

			<dl class="note">
				<dt>Note</dt>
				<dd>Arguments are position sensitive. Port number should be
					selected with care - for Windows Vista and above port should be in
					ranges 1024-5000 and 49152-65535</dd>
			</dl>
			<p>
				<img src="images/pyth_rob_listener.png">
			</p>
		</li>
		<li>Apply &amp; Close</li>
	</ul>
	
	<h4>RED/Eclipse with Robot Debug</h4>
	<ul>
		<li>Create/open different Workspace than in first Eclipse,</li>
		<li>import Project for Debug,
			<p>
				Right click on Workspace <b>-&gt; Import -&gt; General -&gt;
					Existing Projects into Workspace</b>
			</p>
			<p>
				<img src="python_red_debug/import_project.png">
			</p>
		</li>
		<li>Edit Debug Configuration for Robot
			<p>In Main tab provide imported Project and test suites:</p>
			<p>
				<img src="images/robot_debug_main.png">
			</p>
		</li>
		<li>Configure Remote tab with LOCAL_IP and LOCAL_PORT from former
			Eclipse
			<p>
				<img src="images/robot_debug_remote.png">
			</p>
		</li>
	</ul>

	<h4>Running Python &amp; Robot debug</h4>
	<p>Start Robot Debug instance first than start Python Debug one.</p>
</body>
</html>